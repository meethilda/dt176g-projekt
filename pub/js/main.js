"use strict";var header=document.getElementById("main-header"),check=document.getElementById("check"),headername=document.getElementById("name");window.onload=function(){window.scrollY>window.innerHeight/2?headername.style.display="":headername.style.display="none"},window.addEventListener("scroll",function(){window.scrollY>window.innerHeight/2?header.classList.add("change"):header.classList.remove("change"),null!=document.querySelector(".change")?headername.style.display="":headername.style.display="none"}),check.addEventListener("change",function(){this.checked&&window.scrollY<window.innerHeight/2?header.classList.add("change"):this.checked&&window.scrollY>window.innerHeight/2?header.classList.add("change"):window.scrollY>window.innerHeight/2?header.classList.add("change"):header.classList.remove("change"),null!=document.querySelector(".change")?headername.style.display="":headername.style.display="none"});for(var menuEl=document.querySelector(".menu-list"),liEl=menuEl.getElementsByTagName("li"),i=0;liEl.length>i;i++)liEl[i].addEventListener("click",function(){check.checked=!1});var urlUser="http://studenter.miun.se/~maed1801/dt173g/projekt-REST/cv.php/api/users?id=1",urlPortfolio="http://studenter.miun.se/~maed1801/dt173g/projekt-REST/cv.php/api/portfolio",urlStudies="http://studenter.miun.se/~maed1801/dt173g/projekt-REST/cv.php/api/studies",urlWork="http://studenter.miun.se/~maed1801/dt173g/projekt-REST/cv.php/api/work";fetch(urlUser).then(function(e){return e.json()}).then(function(e){getUser(e)}),fetch(urlPortfolio).then(function(e){return e.json()}).then(function(e){getPortfolio(e)}),fetch(urlStudies).then(function(e){return e.json()}).then(function(e){window.studiesJson=e}),fetch(urlWork).then(function(e){return e.json()}).then(function(e){getWS(e)});var portfolio=document.getElementById("portfolio"),studies=document.getElementById("studies"),work=document.getElementById("work"),timeline=document.getElementById("timeline-div"),headerName=document.getElementById("name"),profileName=document.getElementById("profile-name"),profileDesc=document.getElementById("profile-desc"),profileEmail=document.getElementById("profile-email"),profileSocials=document.getElementById("profile-socials");function getUser(e){var n=e[0];window.UserID=n.Uid;var t=n.UfirstName,i=n.UlastName,a=n.Uemail,r=n.Udesc,o=n.facebook,c=n.instagram,l=n.linkedin;if(profileName.innerHTML="".concat(t," <span>").concat(i,"</span>"),profileDesc.innerHTML=r,profileEmail.innerHTML='<a href="mailto:'.concat(a,'">').concat(a,"</a>"),"null"!=o&&null!=o&&(profileSocials.innerHTML+='<li id="fb"><a href="'.concat(o,'">').concat(t," ").concat(i,"</a></li>")),"null"!=c&&null!=c&&(profileSocials.innerHTML+='<li id="ig"><a href="instagram.com/'.concat(c,'">').concat(c,"</a></li>")),"null"!=l&&null!=l){var d=l.toLowerCase().replace(/å|ä/g,"a").replace(/ö/g,"o").replace(/ /g,"-");profileSocials.innerHTML+='<li id="ldi"><a href="https://sg.linkedin.com/in/'.concat(d,'">').concat(l,"</a></li>")}}var carouselDiv=document.getElementById("main-carousel");function getPortfolio(e){var n=$(".main-carousel").flickity(),t=n.data("flickity").selectedIndex;for(var i in e[0].image="kunggosta.png",e[1].image="julfeeling.png",e[2].image="fardtjanst.png",e[3].image="bollsparken.png",e[4].image="admin-rest.png",e)if(e.hasOwnProperty(i)){var a=e[i];if(a.UserID==window.UserID){var r=$('<div class="carousel-cell"><img src="images/'+a.image+'" alt=""><div><h3>'+a.Ptitle+'</h3><a href="'+a.Purl+'" alt="">'+a.Purl+"</a><p>"+a.Pdesc+"</p><em>"+a.Pcreated+"</em></div></div>");n.flickity("insert",r,t)}}}function getWS(e){var n=[];for(var t in window.studiesJson)n.push(window.studiesJson[t]);for(var i in e)n.push(e[i]);for(var a in n){var r=n[a].WstartDate,o=n[a].SstartDate;n[a].compare=r||o}for(var c in n.sort(function(e,n){return e.compare<n.compare?-1:e.compare>n.compare?1:0}),n)if(n[c].UserID==window.UserID){var l=n[c].Wname,d=n[c].Wtitle,s=n[c].Wdesc,m=n[c].WstartDate,u=n[c].WendDate,h=n[c].Sname,p=n[c].Scity,f=n[c].SstartDate,g=n[c].SendDate;n[c].Wid?timeline.innerHTML+='\n            <div class="container left">\n                <div class="content">\n                    <h3><i class="fas fa-briefcase"></i> '.concat(m,"</h3>\n                    <h4>").concat(l,"</h4>\n                    <em>").concat(d,"</em>\n                    <p>").concat(s,"</p>\n                    <p>Slut: ").concat(u,"</p>\n                </div>\n            </div>\n            "):n[c].Sid&&(timeline.innerHTML+='\n                <div class="container right">\n                    <div class="content">\n                        <h3><i class="fas fa-graduation-cap"></i> '.concat(f,"</h3>\n                        <h4>").concat(h,"</h4>\n                        <em>").concat(p,"</em>\n                        <p>Slut: ").concat(g,"</p>\n                    </div>\n                </div>\n            "))}}